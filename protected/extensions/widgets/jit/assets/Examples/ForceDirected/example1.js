var labelType, useGradients, nativeTextSupport, animate;

(function() {
  var ua = navigator.userAgent,
      iStuff = ua.match(/iPhone/i) || ua.match(/iPad/i),
      typeOfCanvas = typeof HTMLCanvasElement,
      nativeCanvasSupport = (typeOfCanvas == 'object' || typeOfCanvas == 'function'),
      textSupport = nativeCanvasSupport 
        && (typeof document.createElement('canvas').getContext('2d').fillText == 'function');
  //I'm setting this based on the fact that ExCanvas provides text support for IE
  //and that as of today iPhone/iPad current text support is lame
  labelType = (!nativeCanvasSupport || (textSupport && !iStuff))? 'Native' : 'HTML';
  nativeTextSupport = labelType == 'Native';
  useGradients = nativeCanvasSupport;
  animate = !(iStuff || !nativeCanvasSupport);
})();

var Log = {
  elem: false,
  write: function(text){
    if (!this.elem) 
      this.elem = document.getElementById('log');
    this.elem.innerHTML = text;
    this.elem.style.left = (500 - this.elem.offsetWidth / 2) + 'px';
  }
};


function init(){
  // init data
  var json = [{"id":"101113754039426612780","name":"\u0410\u0440\u0442\u0451\u043c \u0417\u0443\u0431\u043a\u043e\u0432","data":{"$dim":61,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"101113754039426612780"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"101113754039426612780"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"101113754039426612780"}]},{"id":"115685210380078922483","name":"Dmitri Tovstonog","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[]},{"id":"117443949326971307946","name":"Alexey Nagichev","data":{"$dim":12,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"117443949326971307946"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"117443949326971307946"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"117443949326971307946"}]},{"id":"117702231426094731903","name":"\u0410\u043b\u044c\u0444\u0440\u0435\u0434 \u0421\u0443\u043b\u0442\u0430\u043d\u043e\u0432","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"117702231426094731903"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"117702231426094731903"}]},{"id":"113289202719118614138","name":"Carlos Peron","data":{"$dim":6,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"113289202719118614138"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"113289202719118614138"}]},{"id":"106222656594786494858","name":"\u0418\u043b\u044c\u044f \u0411\u0435\u0434\u0430","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"106222656594786494858"}]},{"id":"116638599931878486721","name":"Cyril Wolf","data":{"$dim":10,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"116638599931878486721"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"116638599931878486721"}]},{"id":"108619727066257409469","name":"\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u0424\u0435\u0434\u043e\u0441\u0435\u0435\u0432","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"108619727066257409469"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"108619727066257409469"}]},{"id":"109871529833603740022","name":"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0412\u0435\u0440\u0435\u0442\u0435\u043d\u043d\u0438\u043a\u043e\u0432","data":{"$dim":5,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"109871529833603740022"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"109871529833603740022"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"109871529833603740022"}]},{"id":"113760609235826162437","name":"Max Yekhlakov","data":{"$dim":5,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"113760609235826162437"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"113760609235826162437"}]},{"id":"107048916387751800003","name":"Tatiana Ternovykh","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"107048916387751800003"},{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"107048916387751800003"}]},{"id":"109580103187689818817","name":"Vlad P\u00e4ist\u00e4rikk\u00f6nen","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"109580103187689818817"}]},{"id":"106700716470686472681","name":"\u0420\u043e\u043c\u0430\u043d \u041a\u043e\u0433\u0443\u0442","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"115685210380078922483","nodeFrom":"106700716470686472681"}]},{"id":"118351695054537023037","name":"Funny Or Die","data":{"$dim":15,"$color":"#ff0000"},"adjacencies":[]},{"id":"115920532127522829302","name":"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0413\u043e\u043b\u0443\u0431\u0435\u0432","data":{"$dim":7,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115920532127522829302"}]},{"id":"106476102829487622580","name":"boris iomdin","data":{"$dim":10,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"106476102829487622580"}]},{"id":"114537728172515046586","name":"Aleksander Kosabutsky","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"114537728172515046586"}]},{"id":"110436106444560202284","name":"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0414\u043e\u043b\u0433\u043e\u0432","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"110436106444560202284"}]},{"id":"108237722504349284111","name":"\u0421\u043b\u0430\u0432\u0430 \u041a\u043e\u0442","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"108237722504349284111"}]},{"id":"108656320560760185570","name":"\u0413\u0435\u043e\u0440\u0433\u0438\u0439 \u0421\u0443\u0445\u043e\u043c\u043b\u0438\u043d","data":{"$dim":5,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"108656320560760185570"}]},{"id":"101077559541784330336","name":"Sergey Vetrov","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"101077559541784330336"}]},{"id":"109668312633254031039","name":"Dim Man","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"109668312633254031039"}]},{"id":"101735127459614719091","name":"\u0438\u0433\u043e\u0440\u044c \u043b\u0435\u043c\u0430\u0435\u0432","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"101735127459614719091"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"101735127459614719091"}]},{"id":"117889114350606463421","name":"Igor Kucheruk","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"117889114350606463421"}]},{"id":"103914307400576047581","name":"\u0418\u0433\u043e\u0440\u044c \u0411\u044b\u043a\u043e\u0432","data":{"$dim":7,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"103914307400576047581"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"103914307400576047581"}]},{"id":"115611447280612302542","name":"Kriss Selitser","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115611447280612302542"}]},{"id":"111782392055813781645","name":"\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0415\u0444\u0440\u0435\u043c\u043e\u0432","data":{"$dim":5,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"111782392055813781645"}]},{"id":"114700778827856540578","name":"\u0412\u0430\u0441\u0438\u043b\u0438\u0441\u0430 \u0414\u0435\u043d\u044c\u0449\u0438\u043a\u043e\u0432\u0430","data":{"$dim":10,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"114700778827856540578"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"114700778827856540578"}]},{"id":"104720686247253635973","name":"\u0421\u0435\u0440\u0433\u0435\u0439 \u0422\u0440\u0435\u0442\u044c\u044f\u043a","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"104720686247253635973"}]},{"id":"116189217430721069072","name":"Vasya Ivanov","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"116189217430721069072"}]},{"id":"110043433700670012833","name":"\u0421\u0435\u0440\u0433\u0435\u0439 \u041f\u0430\u0432\u043b\u0438\u043a\u043e\u0432","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"110043433700670012833"}]},{"id":"101563568142890482882","name":"Stanley Vartanian","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"101563568142890482882"}]},{"id":"113415206994924449667","name":"Yuriy Kryzhanivskyy","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"113415206994924449667"}]},{"id":"104385000786962163712","name":"Nastya Sudarikova","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"104385000786962163712"}]},{"id":"105374238937220153760","name":"\u041d\u0430\u0441\u044c\u043a\u0430 \u0412\u0438\u0448\u043d\u0401\u0432\u0430\u044f","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"105374238937220153760"}]},{"id":"112820806087024614029","name":"Elena Klimanova","data":{"$dim":11,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"112820806087024614029"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"112820806087024614029"}]},{"id":"103906536707449247153","name":"\u041d\u0438\u043a\u043e\u043b\u0430\u0439 \u041a\u043e\u043b","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"103906536707449247153"}]},{"id":"108925278728144987033","name":"Oksana Vus","data":{"$dim":5,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"108925278728144987033"}]},{"id":"115643720407221663853","name":"Viktor Senchukov","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115643720407221663853"}]},{"id":"101703833274244291309","name":"Anton K","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"101703833274244291309"}]},{"id":"116011706772221250806","name":"\u0414\u0435\u043d\u0438\u0441 \u0411\u0443\u0442\u043a\u043e","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"116011706772221250806"}]},{"id":"116887320062098160275","name":"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041a\u0430\u0437\u0430\u0435\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"116887320062098160275"}]},{"id":"113629403982579150587","name":"Andrew Spoda","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"113629403982579150587"}]},{"id":"106093461612252698159","name":"\u0421\u0435\u0440\u0435\u0433\u0430 \u0422.","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"106093461612252698159"}]},{"id":"106522040375463483245","name":"Andrei Melnikov","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"106522040375463483245"}]},{"id":"117594855033420453184","name":"Alexandr Ogorelcev","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"117594855033420453184"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"117594855033420453184"}]},{"id":"114881874059511684889","name":"\u0410\u043b\u044c\u0431\u0435\u0440\u0442 \u0424\u0440\u0430\u043d\u043a\u0435\u043d\u0448\u0442\u0435\u0439\u043d","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"114881874059511684889"}]},{"id":"102604429903678697824","name":"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0422\u0435\u043b\u0435\u043d\u044c\u0433\u0430","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"102604429903678697824"}]},{"id":"104774165136212354255","name":"Maxim Halev","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"104774165136212354255"}]},{"id":"111024845110650954757","name":"Sergey DragoN","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"111024845110650954757"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"111024845110650954757"}]},{"id":"101274270797554593196","name":"Vitaliy Patsaluyk","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"101274270797554593196"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"101274270797554593196"}]},{"id":"107330359739639483812","name":"\u041a\u0438\u0440\u0438\u043b\u043b \u0427\u0435\u0440\u0451\u043c\u0443\u0445\u0438\u043d","data":{"$dim":8,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"107330359739639483812"}]},{"id":"115665870823748020507","name":"Jools G","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115665870823748020507"}]},{"id":"107955771987535040674","name":"Mikhail Vorobiev","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"107955771987535040674"}]},{"id":"106982433193585425856","name":"Aleksey Naukenov","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"106982433193585425856"}]},{"id":"115324758963087428084","name":"Pavel E","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115324758963087428084"}]},{"id":"115013266936935736754","name":"Artyom Popok","data":{"$dim":5,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115013266936935736754"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"115013266936935736754"}]},{"id":"113816999313557961362","name":"shake reality","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"113816999313557961362"}]},{"id":"102351276875799787926","name":"Dasha B","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"102351276875799787926"}]},{"id":"114941639232927474434","name":"Sergey N","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"114941639232927474434"}]},{"id":"109710753638472800948","name":"ErNeSt RodZ","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"109710753638472800948"}]},{"id":"104266750731397629394","name":"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0423\u0441\u043e\u0432","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"104266750731397629394"}]},{"id":"101847344563448643497","name":"A.K.M.Ali Hossain","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"101847344563448643497"}]},{"id":"115368211479903983079","name":"Alexey Pasechnyy","data":{"$dim":6,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115368211479903983079"}]},{"id":"105950722607227466445","name":"\u0421\u043a\u0438\u043b\u043b \u0410\u0440\u0442\u0430\u043d\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"105950722607227466445"}]},{"id":"102834373946089008515","name":"Michael Karyu","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"102834373946089008515"}]},{"id":"105358421050549283864","name":"Mike D'Morto","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"105358421050549283864"}]},{"id":"108301821866936621395","name":"Anton Ivanov","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"108301821866936621395"}]},{"id":"111122937231569801864","name":"\u041d\u0430\u0442\u0430\u043b\u0438\u044f \u041a\u0430\u043b\u0435\u0432\u0430\u043b\u043e\u0432\u0430","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"111122937231569801864"}]},{"id":"103789495410745989429","name":"\u042e\u043b\u0438\u044f \u0421\u0430\u043b\u043e\u0433\u043e\u0438\u043b\u044c","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"103789495410745989429"}]},{"id":"113992954425897908685","name":"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0411\u0430\u0440\u0442\u043e\u0448","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"113992954425897908685"}]},{"id":"104355118629692903082","name":"Anna Yalagina","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"104355118629692903082"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"104355118629692903082"}]},{"id":"114613496487762131110","name":"\u0415\u043b\u0435\u043d\u0430 \u041a\u043e\u0447\u0435\u0432\u0430\u044f","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"114613496487762131110"}]},{"id":"113182311252686054525","name":"\u0410\u0440\u043a\u0430\u0434\u0438\u0439 \u041d\u043e\u0432\u0438\u043a\u043e\u0432","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"113182311252686054525"}]},{"id":"100714924968242569275","name":"\u0412\u0438\u043a\u0442\u043e\u0440 \u041e\u0431\u0435\u0440\u043d\u0438\u0445\u0438\u043d","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"100714924968242569275"}]},{"id":"100680192179541164810","name":"\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u0421\u043c\u0438\u0440\u043d\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"100680192179541164810"}]},{"id":"115007438806581502837","name":"\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u041a\u043e\u0437\u043b\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115007438806581502837"}]},{"id":"109117535447616640940","name":"\u041b\u0451\u043b\u044c\u043a\u0430 \u0425\u043e\u043c\u044f\u043a","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"109117535447616640940"}]},{"id":"116501153831041350905","name":"Pavel Voronkov","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"116501153831041350905"}]},{"id":"113280797396149836396","name":"\u0414\u0430\u0440\u044c\u044f \u0411\u0430\u0440\u0438\u043d\u043e\u0432\u0430","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"113280797396149836396"}]},{"id":"107346385251312845363","name":"\u0412\u0435\u0440\u043e\u043d\u0438\u043a\u0430 \u041a\u043e\u043d\u043e\u043d\u0435\u043d\u043a\u043e","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"107346385251312845363"}]},{"id":"107607569797601764658","name":"Alexander Pilishvili","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"107607569797601764658"}]},{"id":"117296324511154591746","name":"\u0422\u0438\u043c\u043e\u0444\u0435\u0439 \u041a\u043e\u0441\u0442\u044e\u043a","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"117296324511154591746"}]},{"id":"114478133545127413663","name":"Denis Olifer","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"114478133545127413663"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"114478133545127413663"}]},{"id":"110491006886170380150","name":"\u0412\u0430\u0434\u0438\u043c \u041b\u043e\u043f\u0430\u0442\u044e\u043a","data":{"$dim":5,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"110491006886170380150"}]},{"id":"111012385509441427937","name":"\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0411\u0443\u0433\u0430\u0435\u0432","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"111012385509441427937"}]},{"id":"108752317194406280829","name":"Denis Zemnuhoff","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"108752317194406280829"}]},{"id":"114692043974858733404","name":"Dina Guseynova","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"114692043974858733404"}]},{"id":"115687975335161200342","name":"Maksym Kozhukhar","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"115687975335161200342"}]},{"id":"117411265587463906210","name":"Elena Kasarkina","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"117411265587463906210"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"117411265587463906210"}]},{"id":"100211028688654466953","name":"Vadim Susayev","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"100211028688654466953"}]},{"id":"111806969358320350499","name":"Darya Pasechnaya","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"111806969358320350499"}]},{"id":"109513465916727821308","name":"Tina Satro","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"109513465916727821308"}]},{"id":"111795724228500839532","name":"Alex Shar","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"111795724228500839532"}]},{"id":"104635814045294522838","name":"Daniel Chersunov","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"104635814045294522838"}]},{"id":"100410427917080729399","name":"Valery Viktorovsky","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"100410427917080729399"}]},{"id":"105007976077737555781","name":"Dmitry Movchan","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"105007976077737555781"}]},{"id":"108070135743478151894","name":"Aleksandr Ostrovskiy","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"108070135743478151894"}]},{"id":"114264389763092779200","name":"RAMIL KADYROV","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"114264389763092779200"}]},{"id":"112368372274767735219","name":"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u041a\u043e\u0432\u0430\u043b\u0451\u0432","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"112368372274767735219"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"112368372274767735219"}]},{"id":"112475390216366295773","name":"\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041f\u0438\u0447\u0443\u0433\u0438\u043d","data":{"$dim":8,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"112475390216366295773"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"112475390216366295773"}]},{"id":"108200678420452887367","name":"Alexey Berdnikov","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"108200678420452887367"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"108200678420452887367"}]},{"id":"106968395727710639871","name":"Yehuda Edelstein","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"106968395727710639871"}]},{"id":"107625315181573261652","name":"\u0410\u043b\u043b\u0430 \u041d\u0435\u0440\u043e\u043d\u043e\u0432\u0430","data":{"$dim":3,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"107625315181573261652"}]},{"id":"106584101170176056502","name":"\u0421\u0432\u0435\u0442\u043b\u0430\u043d\u0430 \u0427\u0435\u0440\u043d\u0435\u0446\u043a\u0430\u044f","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"106584101170176056502"}]},{"id":"117157876775174849435","name":"\u0410\u043d\u0434\u0440\u0435\u0439 \u0414\u0437\u0438\u0432\u0435\u043d\u043a\u043e","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"117157876775174849435"}]},{"id":"103642435636700468728","name":"\u0412\u0441\u0435\u0432\u043e\u043b\u043e\u0434 \u0421\u043e\u043b\u043e\u0432\u044c\u0435\u0432","data":{"$dim":4,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"103642435636700468728"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"103642435636700468728"}]},{"id":"112532778032170415475","name":"Alexander Kuzmin","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"118351695054537023037","nodeFrom":"112532778032170415475"},{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"112532778032170415475"}]},{"id":"110713043223753508463","name":"Renat Nutfullin","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"110713043223753508463"}]},{"id":"107338854319246336962","name":"Nataliya Petrova","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"107338854319246336962"}]},{"id":"109108273770061616467","name":"\u041e\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041a\u0430\u0440\u0456\u043c\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"109108273770061616467"}]},{"id":"108362376299104002312","name":"\u0441\u043c\u043e\u043b\u043a\u0438\u043d \u043c\u0430\u0440\u0430\u0442","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"108362376299104002312"}]},{"id":"100241230694673560679","name":"Dm Tereshonok","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"100241230694673560679"}]},{"id":"101296768966097586901","name":"\u041d\u0438\u043a\u0438\u0442\u0430 \u0411\u0435\u0441\u043a\u043e\u0440\u0441\u044b\u0439","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"101296768966097586901"}]},{"id":"117240634489589364380","name":"Dmitry Kudriashov","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"117240634489589364380"}]},{"id":"108230500993240343337","name":"Mikhail Kalugin","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"108230500993240343337"}]},{"id":"102277294113207103334","name":"Nadya Vasileva","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"102277294113207103334"}]},{"id":"109632670919937960214","name":"Egor Vyalov","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"109632670919937960214"}]},{"id":"103147099464733088403","name":"Tima Nabiullin","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"103147099464733088403"}]},{"id":"114291332022268207590","name":"Andrei Dolgov","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"114291332022268207590"}]},{"id":"110618476710474118578","name":"\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0421\u0430\u043c\u043e\u043b\u044e\u043a","data":{"$dim":2,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"110618476710474118578"}]},{"id":"108470758109088086170","name":"\u0410\u0440\u0442\u0443\u0440 \u0422\u0438\u0433\u0440\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"108470758109088086170"}]},{"id":"107969925061516719924","name":"\u042d\u043b\u044c\u0448\u0430\u0434 \u0421\u0435\u0438\u0434\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"107969925061516719924"}]},{"id":"112721724163996919942","name":"Andryxa Nezhivov","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"112721724163996919942"}]},{"id":"103381338505667758335","name":"OLIVIA LIVI","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"103381338505667758335"}]},{"id":"102121717687383397743","name":"\u0411\u043e\u0433\u0434\u0430\u043d \u042f\u043a\u0443\u0431\u0430","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"102121717687383397743"}]},{"id":"101775539659472146979","name":"\u0421\u0435\u043a\u0440\u0435\u0442\u044b \u041d\u043e\u0432\u044b\u0445 \u0411\u043e\u0433\u0430\u0442\u044b\u0445","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"101775539659472146979"}]},{"id":"116867708393961270211","name":"\u042e\u0440\u0438\u0439 \u0424\u0435\u0434\u043e\u0442\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"116867708393961270211"}]},{"id":"113256666538097182295","name":"Vera aka Vsb","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"113256666538097182295"}]},{"id":"105630738250497395196","name":"\u0418\u043b\u044c\u044f \u041a\u0443\u043b\u0438\u043a\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"105630738250497395196"}]},{"id":"104238743882660012812","name":"Max Balobanov","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"104238743882660012812"}]},{"id":"118172129254535229389","name":"Gennady Shapovalov","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"118172129254535229389"}]},{"id":"101991960373334881291","name":"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041f\u043e\u0437\u0434\u043d\u044f\u043a\u043e\u0432","data":{"$dim":1,"$color":"#ff0000"},"adjacencies":[{"data":{"$color":"#00ff00"},"nodeTo":"117443949326971307946","nodeFrom":"101991960373334881291"}]}];
  // end
  // init ForceDirected
  var fd = new $jit.ForceDirected({
    //id of the visualization container
    injectInto: 'infovis',
    //Enable zooming and panning
    //by scrolling and DnD
    Navigation: {
      enable: true,
      //Enable panning events only if we're dragging the empty
      //canvas (and not a node).
      panning: 'avoid nodes',
      zooming: 10 //zoom speed. higher is more sensible
    },
    // Change node and edge styles such as
    // color and width.
    // These properties are also set per node
    // with dollar prefixed data-properties in the
    // JSON structure.
    Node: {
      overridable: true
    },
    Edge: {
      overridable: true,
      color: '#23A4FF',
      lineWidth: 0.4
    },
    //Native canvas text styling
    Label: {
      type: labelType, //Native or HTML
      size: 10,
      style: 'bold'
    },
    //Add Tips
    Tips: {
      enable: true,
      onShow: function(tip, node) {
        //count connections
        var count = 0;
        node.eachAdjacency(function() { count++; });
        //display node info in tooltip
        tip.innerHTML = "<div class=\"tip-title\">" + node.name + "</div>"
          + "<div class=\"tip-text\"><b>connections:</b> " + count + "</div>";
      }
    },
    // Add node events
    Events: {
      enable: true,
      //Change cursor style when hovering a node
      onMouseEnter: function() {
        fd.canvas.getElement().style.cursor = 'move';
      },
      onMouseLeave: function() {
        fd.canvas.getElement().style.cursor = '';
      },
      //Update node positions when dragged
      onDragMove: function(node, eventInfo, e) {
          var pos = eventInfo.getPos();
          node.pos.setc(pos.x, pos.y);
          fd.plot();
      },
      //Implement the same handler for touchscreens
      onTouchMove: function(node, eventInfo, e) {
        $jit.util.event.stop(e); //stop default touchmove event
        this.onDragMove(node, eventInfo, e);
      },
      //Add also a click handler to nodes
      onClick: function(node) {
        if(!node) return;
        // Build the right column relations list.
        // This is done by traversing the clicked node connections.
        var html = "<h4>" + node.name + "</h4><b> connections:</b><ul><li>",
            list = [];
        node.eachAdjacency(function(adj){
          list.push(adj.nodeTo.name);
        });
        //append connections information
        $jit.id('inner-details').innerHTML = html + list.join("</li><li>") + "</li></ul>";
      }
    },
    //Number of iterations for the FD algorithm
    iterations: 200,
    //Edge length
    levelDistance: 130,
    // Add text to the labels. This method is only triggered
    // on label creation and only for DOM labels (not native canvas ones).
    onCreateLabel: function(domElement, node){
      domElement.innerHTML = node.name;
      var style = domElement.style;
      style.fontSize = "0.8em";
      style.color = "#ddd";
    },
    // Change node styles when DOM labels are placed
    // or moved.
    onPlaceLabel: function(domElement, node){
      var style = domElement.style;
      var left = parseInt(style.left);
      var top = parseInt(style.top);
      var w = domElement.offsetWidth;
      style.left = (left - w / 2) + 'px';
      style.top = (top + 10) + 'px';
      style.display = '';
    }
  });
  // load JSON data.
  fd.loadJSON(json);
  // compute positions incrementally and animate.
  fd.computeIncremental({
    iter: 40,
    property: 'end',
    onStep: function(perc){
      Log.write(perc + '% loaded...');
    },
    onComplete: function(){
      Log.write('done');
      fd.animate({
        modes: ['linear'],
        transition: $jit.Trans.Elastic.easeOut,
        duration: 2500
      });
    }
  });
  // end
}
